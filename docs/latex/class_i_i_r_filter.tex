\doxysection{IIRFilter Class Reference}
\hypertarget{class_i_i_r_filter}{}\label{class_i_i_r_filter}\index{IIRFilter@{IIRFilter}}


Wrapper C++ para filtros IIR Biquad de CMSIS-\/\+DSP, optimizado para bioseñales.  




{\ttfamily \#include $<$IIRFilter.\+h$>$}

\doxysubsubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{class_i_i_r_filter_ad0520e7eb1501554f092abcfb12c98bd}{IIRFilter}} (const float32\+\_\+t \texorpdfstring{$\ast$}{*}coeffs, uint8\+\_\+t num\+Stages, uint16\+\_\+t block\+Size)
\begin{DoxyCompactList}\small\item\em Constructor que inicializa el filtro IIR Biquad. \end{DoxyCompactList}\item 
\mbox{\hyperlink{class_i_i_r_filter_a7fbc93f9fc0ff65e785f8f2bfe13cfdf}{\texorpdfstring{$\sim$}{\string~}\+IIRFilter}} ()
\begin{DoxyCompactList}\small\item\em Destructor de la clase \doxylink{class_i_i_r_filter}{IIRFilter}. \end{DoxyCompactList}\item 
float32\+\_\+t \mbox{\hyperlink{class_i_i_r_filter_a363659816d5bf72842b95b6b3e85ad7e}{process\+Sample}} (float32\+\_\+t input)
\begin{DoxyCompactList}\small\item\em Procesa una muestra individual en tiempo real. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{class_i_i_r_filter_a888d5aef189c322259f403d4dd8356bc}{process\+Buffer}} (const float32\+\_\+t \texorpdfstring{$\ast$}{*}input\+Array, float32\+\_\+t \texorpdfstring{$\ast$}{*}output\+Array, uint32\+\_\+t length)
\begin{DoxyCompactList}\small\item\em Procesa un buffer completo de muestras. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
Wrapper C++ para filtros IIR Biquad de CMSIS-\/\+DSP, optimizado para bioseñales. 


\begin{DoxyItemize}
\item Esta clase encapsula la funcionalidad de filtros IIR (Infinite Impulse Response) de CMSIS-\/\+DSP, usando una estructura de cascada de secciones de segundo orden (Biquad). Esta implementación es ideal para filtros con respuestas de frecuencia muy selectivas que serían computacionalmente costosos si se implementaran como FIR.
\item 
\end{DoxyItemize}

Los filtros IIR son especialmente útiles para\+:
\begin{DoxyItemize}
\item Filtros de alta selectividad (p. ej. notch muy agudo) con bajo orden.
\item Emulación de filtros analógicos clásicos (Butterworth, Chebyshev).
\item Menor carga computacional y memoria que un filtro FIR de rendimiento similar.
\item A diferencia de los filtros FIR, los IIR tienen una respuesta de fase no lineal, lo que puede distorsionar la forma de onda. Esto debe considerarse en aplicaciones donde la morfología de la señal es crítica (p. ej. análisis del complejo QRS en ECG).
\item La clase maneja automáticamente\+:
\item Inicialización del estado interno del filtro.
\item Gestión de memoria para el buffer de estados.
\item Interfaz con las funciones Biquad optimizadas de CMSIS-\/\+DSP.
\item \begin{DoxyNote}{Note}
Los coeficientes deben ser calculados externamente (ej. Python/scipy, MATLAB) y formateados para la estructura Biquad de CMSIS-\/\+DSP. Cada sección Biquad requiere 5 coeficientes\+: \{b0, b1, b2, a1, a2\}. El coeficiente a0 se asume como 1.
\end{DoxyNote}

\item \begin{DoxyWarning}{Warning}
La memoria para los coeficientes debe permanecer válida durante toda la vida del objeto \doxylink{class_i_i_r_filter}{IIRFilter}.
\end{DoxyWarning}

\item \begin{DoxySeeAlso}{See also}
arm\+\_\+biquad\+\_\+cascade\+\_\+df1\+\_\+f32() para detalles de la implementación subyacente. 
\end{DoxySeeAlso}

\end{DoxyItemize}\begin{Desc}
\item[Examples]\par
\mbox{\hyperlink{_c_1_2_users_2_sergio_2_documents_2_platform_i_o_2_projects_200_01-_01_c_m_s_i_s_01test_2lib_2_b2e4f6e979bfd050f0aa06f64b1922aec}{C\+:/\+Users/\+Sergio/\+Documents/\+Platform\+IO/\+Projects/00 -\/ CMSIS test/lib/\+Bio\+Filter\+Lib/src/filters/\+IIRFilter.\+h}}.\end{Desc}


\label{doc-constructors}
\Hypertarget{class_i_i_r_filter_doc-constructors}
\doxysubsection{Constructor \& Destructor Documentation}
\Hypertarget{class_i_i_r_filter_ad0520e7eb1501554f092abcfb12c98bd}\index{IIRFilter@{IIRFilter}!IIRFilter@{IIRFilter}}
\index{IIRFilter@{IIRFilter}!IIRFilter@{IIRFilter}}
\doxysubsubsection{\texorpdfstring{IIRFilter()}{IIRFilter()}}
{\footnotesize\ttfamily \label{class_i_i_r_filter_ad0520e7eb1501554f092abcfb12c98bd} 
IIRFilter\+::\+IIRFilter (\begin{DoxyParamCaption}\item[{const float32\+\_\+t \texorpdfstring{$\ast$}{*}}]{coeffs}{, }\item[{uint8\+\_\+t}]{num\+Stages}{, }\item[{uint16\+\_\+t}]{block\+Size}{}\end{DoxyParamCaption})}



Constructor que inicializa el filtro IIR Biquad. 


\begin{DoxyItemize}
\item 
\end{DoxyItemize}

El constructor realiza las siguientes operaciones\+:
\begin{DoxyEnumerate}
\item Almacena las referencias y parámetros del filtro.
\item Calcula el tamaño del buffer de estado necesario\+: cada etapa Biquad requiere 4 valores de estado (x\mbox{[}n-\/1\mbox{]}, x\mbox{[}n-\/2\mbox{]}, y\mbox{[}n-\/1\mbox{]}, y\mbox{[}n-\/2\mbox{]}).
\item Asigna memoria dinámicamente para el buffer de estados y la inicializa a cero.
\item Llama a arm\+\_\+biquad\+\_\+cascade\+\_\+df1\+\_\+init\+\_\+f32() para configurar la instancia del filtro de CMSIS-\/\+DSP con los coeficientes y el estado.
\end{DoxyEnumerate}
\begin{DoxyItemize}
\item 
\begin{DoxyParams}{Parameters}
{\em coeffs} & Puntero al array de coeficientes del filtro (num\+Stages \texorpdfstring{$\ast$}{*} 5). \\
\hline
{\em num\+Stages} & Número de secciones Biquad. \\
\hline
{\em block\+Size} & Tamaño del bloque de procesamiento.\\
\hline
\end{DoxyParams}

\item \begin{DoxyWarning}{Warning}
Si la asignación de memoria falla, el comportamiento es indefinido. Es recomendable añadir una comprobación de puntero nulo en un sistema de producción. 
\end{DoxyWarning}

\end{DoxyItemize}\Hypertarget{class_i_i_r_filter_a7fbc93f9fc0ff65e785f8f2bfe13cfdf}\index{IIRFilter@{IIRFilter}!````~IIRFilter@{\texorpdfstring{$\sim$}{\string~}IIRFilter}}
\index{````~IIRFilter@{\texorpdfstring{$\sim$}{\string~}IIRFilter}!IIRFilter@{IIRFilter}}
\doxysubsubsection{\texorpdfstring{\texorpdfstring{$\sim$}{\string~}IIRFilter()}{\string~IIRFilter()}}
{\footnotesize\ttfamily \label{class_i_i_r_filter_a7fbc93f9fc0ff65e785f8f2bfe13cfdf} 
IIRFilter\+::\texorpdfstring{$\sim$}{\string~}\+IIRFilter (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})}



Destructor de la clase \doxylink{class_i_i_r_filter}{IIRFilter}. 

Destructor que libera la memoria del buffer de estados.


\begin{DoxyItemize}
\item Libera la memoria asignada para el buffer de estados interno.
\item 
\end{DoxyItemize}

Libera de forma segura la memoria asignada dinámicamente en el constructor para evitar fugas de memoria. 

\label{doc-func-members}
\Hypertarget{class_i_i_r_filter_doc-func-members}
\doxysubsection{Member Function Documentation}
\Hypertarget{class_i_i_r_filter_a888d5aef189c322259f403d4dd8356bc}\index{IIRFilter@{IIRFilter}!processBuffer@{processBuffer}}
\index{processBuffer@{processBuffer}!IIRFilter@{IIRFilter}}
\doxysubsubsection{\texorpdfstring{processBuffer()}{processBuffer()}}
{\footnotesize\ttfamily \label{class_i_i_r_filter_a888d5aef189c322259f403d4dd8356bc} 
void IIRFilter\+::process\+Buffer (\begin{DoxyParamCaption}\item[{const float32\+\_\+t \texorpdfstring{$\ast$}{*}}]{input\+Array}{, }\item[{float32\+\_\+t \texorpdfstring{$\ast$}{*}}]{output\+Array}{, }\item[{uint32\+\_\+t}]{length}{}\end{DoxyParamCaption})}



Procesa un buffer completo de muestras. 

Procesa un buffer completo de muestras usando el filtro IIR.


\begin{DoxyItemize}
\item Aplica el filtro IIR a un array de muestras. Optimizado para mayor throughput en procesamiento por lotes.
\item 
\begin{DoxyParams}{Parameters}
{\em input\+Array} & Puntero al array de muestras de entrada. \\
\hline
{\em output\+Array} & Puntero al array donde se escribirán las muestras filtradas. \\
\hline
{\em length} & Número de muestras a procesar.\\
\hline
\end{DoxyParams}

\item \begin{DoxyWarning}{Warning}
Los arrays de entrada y salida no deben solaparse en memoria.
\end{DoxyWarning}

\item 
\end{DoxyItemize}

Aplica el filtro IIR a un array completo de muestras, aprovechando las optimizaciones de procesamiento en bloque de CMSIS-\/\+DSP (SIMD) para un mayor rendimiento en comparación con el procesamiento muestra por muestra.
\begin{DoxyItemize}
\item 
\begin{DoxyParams}{Parameters}
{\em input\+Array} & Puntero al buffer de entrada. \\
\hline
{\em output\+Array} & Puntero al buffer de salida. \\
\hline
{\em length} & Número de muestras en los buffers.\\
\hline
\end{DoxyParams}

\item \begin{DoxyRemark}{Remarks}
El estado del filtro se mantiene y actualiza correctamente entre llamadas, permitiendo procesar un flujo de datos continuo en bloques. La función arm\+\_\+biquad\+\_\+cascade\+\_\+df1\+\_\+f32 está altamente optimizada para arquitecturas ARM y ofrece un rendimiento significativamente mejor para bloques de datos grandes. 
\end{DoxyRemark}

\end{DoxyItemize}\Hypertarget{class_i_i_r_filter_a363659816d5bf72842b95b6b3e85ad7e}\index{IIRFilter@{IIRFilter}!processSample@{processSample}}
\index{processSample@{processSample}!IIRFilter@{IIRFilter}}
\doxysubsubsection{\texorpdfstring{processSample()}{processSample()}}
{\footnotesize\ttfamily \label{class_i_i_r_filter_a363659816d5bf72842b95b6b3e85ad7e} 
float32\+\_\+t IIRFilter\+::process\+Sample (\begin{DoxyParamCaption}\item[{float32\+\_\+t}]{input}{}\end{DoxyParamCaption})}



Procesa una muestra individual en tiempo real. 

Procesa una muestra individual usando el filtro IIR.


\begin{DoxyItemize}
\item Aplica el filtro IIR a una sola muestra de entrada. Ideal para aplicaciones de baja latencia.
\item 
\begin{DoxyParams}{Parameters}
{\em input} & Valor de la muestra de entrada. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
float32\+\_\+t Muestra filtrada de salida.
\end{DoxyReturn}

\item 
\end{DoxyItemize}

Esta función es una envoltura alrededor de la función de procesamiento de CMSIS-\/\+DSP, configurada para procesar una única muestra. Es ideal para aplicaciones en tiempo real que operan muestra por muestra.
\begin{DoxyItemize}
\item 
\begin{DoxyParams}{Parameters}
{\em input} & Muestra de entrada a filtrar. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
float32\+\_\+t Muestra filtrada de salida.
\end{DoxyReturn}

\item \begin{DoxyParagraph}{Detalles de implementación}
Llama a arm\+\_\+biquad\+\_\+cascade\+\_\+df1\+\_\+f32() con una longitud de bloque de 1. La función de CMSIS-\/\+DSP maneja automáticamente la actualización del estado interno del filtro a través de todas las etapas en cascada, asegurando la continuidad entre llamadas. 
\end{DoxyParagraph}

\end{DoxyItemize}

The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
Bio\+Filter\+Lib/src/filters/\mbox{\hyperlink{_i_i_r_filter_8h}{IIRFilter.\+h}}\item 
Bio\+Filter\+Lib/src/filters/\mbox{\hyperlink{_i_i_r_filter_8cpp}{IIRFilter.\+cpp}}\end{DoxyCompactItemize}
